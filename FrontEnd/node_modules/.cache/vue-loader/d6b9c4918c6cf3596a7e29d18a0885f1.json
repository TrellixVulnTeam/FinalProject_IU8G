{"remainingRequest":"C:\\Users\\User\\Documents\\GitHub\\FinalProject\\FrontEnd\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\User\\Documents\\GitHub\\FinalProject\\FrontEnd\\src\\pages\\gamePage.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\User\\Documents\\GitHub\\FinalProject\\FrontEnd\\src\\pages\\gamePage.vue","mtime":1623493456799},{"path":"C:\\Users\\User\\Documents\\GitHub\\FinalProject\\FrontEnd\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1619698966213},{"path":"C:\\Users\\User\\Documents\\GitHub\\FinalProject\\FrontEnd\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1619698980716},{"path":"C:\\Users\\User\\Documents\\GitHub\\FinalProject\\FrontEnd\\node_modules\\babel-loader\\lib\\index.js","mtime":1619698964730},{"path":"C:\\Users\\User\\Documents\\GitHub\\FinalProject\\FrontEnd\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1619698966213},{"path":"C:\\Users\\User\\Documents\\GitHub\\FinalProject\\FrontEnd\\node_modules\\vue-loader\\lib\\index.js","mtime":1619698986297}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgVlNlbGVjdEltYWdlIGZyb20gIi4uL2NvbXBvbmVudHMvVlNlbGVjdEltYWdlLnZ1ZSI7DQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJBcHAiLA0KICBjb21wb25lbnRzOiB7ICJ2LXNlbGVjdC1pbWFnZSI6IFZTZWxlY3RJbWFnZSB9LA0KICBtZXRob2RzOiB7DQogICAgb3BlbigpIHsNCiAgICAgIHRoaXMuaXNWaXNpYmxlID0gdHJ1ZTsNCiAgICB9LA0KDQogICAgY2xvc2UoKSB7DQogICAgICB0aGlzLmlzVmlzaWJsZSA9IGZhbHNlOw0KICAgIH0sDQogICAgbWF4U2VsZWN0ZWQoKSB7DQogICAgICB0aGlzLiRhbGVydCgNCiAgICAgICAgIllvdSBjYW4ndCBzZWxlY3QgbW9yZSB0aGFuICIgKyB0aGlzLm1heFNlbGVjdGFibGUgKyAiIGltYWdlcy4iLA0KICAgICAgICAiRXJyb3IiLA0KICAgICAgICAiZXJyb3IiDQogICAgICApOw0KICAgIH0sDQogICAgYXN5bmMgc2F2ZSgpIHsNCiAgICAgIGlmICh0aGlzLnNlbGVjdGVkSXRlbXMubGVuZ3RoIDwgdGhpcy5tYXhTZWxlY3RhYmxlKQ0KICAgICAgICB0aGlzLiRhbGVydCgNCiAgICAgICAgICAiWW91IG5lZWQgdG8gc2VsZWN0ICIgKyB0aGlzLm1heFNlbGVjdGFibGUgKyAiIGltYWdlcyIsDQogICAgICAgICAgIkVycm9yIiwNCiAgICAgICAgICAiZXJyb3IiDQogICAgICAgICk7DQogICAgICBlbHNlIHsNCiAgICAgICAgbGV0IHNjb3JlU2NyZWVuID0gMDsNCiAgICAgICAgbGV0IGltYWdlc1NlbGVjdCA9ICIiOw0KICAgICAgICBmb3IgKGxldCBpbmRleCBpbiB0aGlzLnNlbGVjdGVkSXRlbXMpIHsNCiAgICAgICAgICBpZiAodGhpcy5zZWxlY3RlZEl0ZW1zW2luZGV4XS50YXJnZXQgPT0gdHJ1ZSkgc2NvcmVTY3JlZW4rKzsNCiAgICAgICAgICBpbWFnZXNTZWxlY3QgPSBpbWFnZXNTZWxlY3QgKyB0aGlzLnNlbGVjdGVkSXRlbXNbaW5kZXhdLmtleSArICIsIjsNCiAgICAgICAgfQ0KICAgICAgICB0aGlzLnNjb3JlID0gdGhpcy5zY29yZSArIHNjb3JlU2NyZWVuOw0KICAgICAgICBsZXQgc2F2ZVNjb3JlOw0KDQogICAgICAgIHRyeSB7DQogICAgICAgICAgc2F2ZVNjb3JlID0gYXdhaXQgdGhpcy5heGlvcy5nZXQoDQogICAgICAgICAgICB0aGlzLiRyb290LnN0b3JlLmJhc2VfdXJsICsNCiAgICAgICAgICAgICAgIi91c2Vycy9zYXZlU2NvcmVTY3JlZW4vZ2FtZUlELyIgKw0KICAgICAgICAgICAgICB0aGlzLmdhbWVJRCArDQogICAgICAgICAgICAgICIvbnVtT2ZTY3JlZW4vIiArDQogICAgICAgICAgICAgIHRoaXMuc2NyZWVuTnVtICsNCiAgICAgICAgICAgICAgIi9pbWFnZXNTZWxlY3QvIiArDQogICAgICAgICAgICAgIGltYWdlc1NlbGVjdCArDQogICAgICAgICAgICAgICIvc2NvcmUvIiArDQogICAgICAgICAgICAgIHNjb3JlU2NyZWVuDQogICAgICAgICAgKTsNCiAgICAgICAgICBpZiAoc2F2ZVNjb3JlLnN0YXR1cyAhPT0gMjAwKSB0aGlzLiRyb3V0ZXIucmVwbGFjZSgiL05vdEZvdW5kIik7DQogICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgICAgY29uc29sZS5sb2coImVycm9yLnNhdmVTY29yZS5zdGF0dXMiLCBlcnJvci5zYXZlU2NvcmUuc3RhdHVzKTsNCiAgICAgICAgICB0aGlzLiRyb3V0ZXIucmVwbGFjZSgiL05vdEZvdW5kIik7DQogICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQoNCiAgICAgICAgaWYgKHRoaXMuc2NyZWVuTnVtID09IHRoaXMuc2NyZWVucykgew0KICAgICAgICAgIGxldCBzYXZlU2NvcmVHYW1lOw0KDQogICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIHNhdmVTY29yZUdhbWUgPSBhd2FpdCB0aGlzLmF4aW9zLmdldCgNCiAgICAgICAgICAgICAgdGhpcy4kcm9vdC5zdG9yZS5iYXNlX3VybCArDQogICAgICAgICAgICAgICAgIi91c2Vycy9zYXZlU2NvcmVHYW1lL2dhbWVJRC8iICsNCiAgICAgICAgICAgICAgICB0aGlzLmdhbWVJRCArDQogICAgICAgICAgICAgICAgIi9zY29yZS8iICsNCiAgICAgICAgICAgICAgICB0aGlzLnNjb3JlDQogICAgICAgICAgICApOw0KICAgICAgICAgICAgaWYgKHNhdmVTY29yZUdhbWUuc3RhdHVzICE9PSAyMDApIHRoaXMuJHJvdXRlci5yZXBsYWNlKCIvTm90Rm91bmQiKTsNCg0KICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgICAgICBjb25zb2xlLmxvZygNCiAgICAgICAgICAgICAgImVycm9yLnNhdmVTY29yZUdhbWUuc3RhdHVzIiwNCiAgICAgICAgICAgICAgZXJyb3Iuc2F2ZVNjb3JlR2FtZS5zdGF0dXMNCiAgICAgICAgICAgICk7DQogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucmVwbGFjZSgiL05vdEZvdW5kIik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgfQ0KICAgICAgICAgIHRoaXMuJGFsZXJ0KA0KICAgICAgICAgICAgIkdhbWUgT3ZlciEgWW91IGVhcm5lZCAiICsNCiAgICAgICAgICAgICAgdGhpcy5zY29yZSArDQogICAgICAgICAgICAgICIgcG9pbnRzIHRvZGF5LiBTZWUgeW91IHRvbW1vcm93ISINCiAgICAgICAgICApLnRoZW4oKCkgPT4gew0KICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi8iKTsNCiAgICAgICAgICB9KTsNCg0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMuJGFsZXJ0KA0KICAgICAgICAgICJZb3VyIHNjb3JlIGluIHRoaXMgcm91bmQ6ICIgKyBzY29yZVNjcmVlbiArICIvIiArIHRoaXMubWF4U2VsZWN0YWJsZSkNCiAgICAgICAgICAudGhlbigoKSA9PiB7ICAgICAgICAgICANCiAgICAgICAgICAgICB0aGlzLnNjcmVlbk51bSsrOw0KICAgICAgICAgICAgLy8gdGhpcy4kcm9vdC4kY2hpbGRyZW5bMF0uY2xlYXIoKTsNCiAgICAgICAgICAgIHRoaXMuJHJlZnMuVlNlbGVjdEltYWdlLmNsZWFyKCk7DQogICAgICAgICAgICB0aGlzLml0ZW1zID0gW107DQogICAgICAgICAgICBmb3IgKGxldCBudW0gaW4gdGhpcy5hbGxJbWFnZXNbdGhpcy5pbmRleF0uaW1hZ2VzU2NyZWVuKSB7DQogICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB7DQogICAgICAgICAgICAgICAga2V5OiB0aGlzLmFsbEltYWdlc1t0aGlzLmluZGV4XS5pbWFnZXNTY3JlZW5bbnVtXS5pbWFnZV9pZCwNCiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6IHRoaXMuYWxsSW1hZ2VzW3RoaXMuaW5kZXhdLmltYWdlc1NjcmVlbltudW1dDQogICAgICAgICAgICAgICAgICAuaW1hZ2UsDQogICAgICAgICAgICAgICAgdGFyZ2V0OiB0aGlzLmFsbEltYWdlc1t0aGlzLmluZGV4XS5pbWFnZXNTY3JlZW5bbnVtXS50YXJnZXQsDQogICAgICAgICAgICAgICAgc2VsZWN0YWJsZTogdHJ1ZSwNCiAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAgdGhpcy5pdGVtcy5wdXNoKGRhdGEpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdGhpcy5pbmRleCsrO30pOw0KICAgICAgICAgIC8vIH0NCiAgICAgICAgfQ0KICAgICAgICAvLyB9KTsNCiAgICAgIH0NCiAgICB9LA0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBpc1Zpc2libGU6IHRydWUsDQoNCiAgICAgIG1heFNlbGVjdGFibGU6IDIsDQogICAgICBzZWxlY3RlZEl0ZW1zOiBbXSwNCiAgICAgIGl0ZW1zOiBbXSwNCiAgICAgIGNvbG9yU2NoZW1hOiAiIzAwY2M0NCIsDQogICAgICBzY3JlZW5OdW06IDEsDQogICAgICBzY3JlZW5zOiAiIiwNCiAgICAgIHNjb3JlOiAwLA0KICAgICAgZ2FtZUlEOiAiIiwNCiAgICAgIGFsbEltYWdlczogW10sDQogICAgICBpbmRleDogIiIsDQogICAgfTsNCiAgfSwNCiAgd2F0Y2g6IHsNCiAgICBtYXhTZWxlY3RhYmxlKG5ld1ZhbCwgb2xkVmFsKSB7DQogICAgICBpZiAobmV3VmFsIDwgdGhpcy5zZWxlY3RlZEl0ZW1zLmxlbmd0aCkgew0KICAgICAgICB0aGlzLm1heFNlbGVjdGFibGUgPSBvbGRWYWw7DQogICAgICB9DQogICAgICBpZiAodGhpcy5pdGVtcy5sZW5ndGggPCBuZXdWYWwpIHsNCiAgICAgICAgdGhpcy5tYXhTZWxlY3RhYmxlID0gb2xkVmFsOw0KICAgICAgfQ0KICAgIH0sDQogIH0sDQogIGFzeW5jIGNyZWF0ZWQoKSB7DQogICAgaWYgKHRoaXMuJHJvb3Quc3RvcmUuZW1haWwpIHsNCiAgICAgIGlmICgNCiAgICAgICAgdGhpcy4kcm9vdC5zdG9yZS5udW1iZXJPZkltYWdlc1JhdGluZyA8IHRoaXMuJHJvb3Quc3RvcmUubWluSW1hZ2VzUmF0aW5nDQogICAgICApIHsNCiAgICAgICAgdGhpcy4kYWxlcnQoDQogICAgICAgICAgIllvdSBkaWQgbm90IHJhdGUgZW5vdWdoIHBob3RvcywgcGxlYXNlIGNvbnRpbnVlIHRvIHJhdGUuLi4iLA0KICAgICAgICAgICJFcnJvciIsDQogICAgICAgICAgImVycm9yIg0KICAgICAgICApOw0KICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL3JhbmtpbmciKTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGxldCBwbGF5VG9kYXk7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgcGxheVRvZGF5ID0gYXdhaXQgdGhpcy5heGlvcy5nZXQoDQogICAgICAgICAgICB0aGlzLiRyb290LnN0b3JlLmJhc2VfdXJsICsgIi91c2Vycy9jaGVja0lmUGxheVRvZGF5Ig0KICAgICAgICAgICk7DQogICAgICAgICAgaWYgKHBsYXlUb2RheS5zdGF0dXMgPT09IDIwMSkgew0KICAgICAgICAgICAgLy9ub3QgZmluaXNoIHRvIHBsYXkgdG9kYXkNCiAgICAgICAgICAgIGlmIChwbGF5VG9kYXkuZGF0YVswXS5zY29yZUdhbWUgPT0gbnVsbCkgew0KICAgICAgICAgICAgICB0aGlzLnNjcmVlbnMgPSB0aGlzLiRyb290LnN0b3JlLm51bWJlck9mU2NyZWVuc0luR2FtZTsNCiAgICAgICAgICAgICAgbGV0IHJlc3BvbnNlOw0KICAgICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gYXdhaXQgdGhpcy5heGlvcy5nZXQoDQogICAgICAgICAgICAgICAgICB0aGlzLiRyb290LnN0b3JlLmJhc2VfdXJsICsNCiAgICAgICAgICAgICAgICAgICAgIi91c2Vycy9nZXRTY3JlZW5zR2FtZS9nYW1lSWQvIiArDQogICAgICAgICAgICAgICAgICAgIHBsYXlUb2RheS5kYXRhWzBdLmdhbWVfaWQNCiAgICAgICAgICAgICAgICApOw0KICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgIT09IDIwMCkgdGhpcy4kcm91dGVyLnJlcGxhY2UoIi9Ob3RGb3VuZCIpOw0KICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJlcnJvci5yZXNwb25zZS5zdGF0dXMiLCBlcnJvci5yZXNwb25zZS5zdGF0dXMpOw0KICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5yZXBsYWNlKCIvTm90Rm91bmQiKTsNCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgdGhpcy5hbGxJbWFnZXMgPSByZXNwb25zZS5kYXRhOw0KICAgICAgICAgICAgICB0aGlzLmdhbWVJRCA9IHBsYXlUb2RheS5kYXRhWzBdLmdhbWVfaWQ7DQogICAgICAgICAgICAgIHRoaXMuc2NyZWVuTnVtID0gdGhpcy5hbGxJbWFnZXNbMF0uc2NyZWVuOw0KICAgICAgICAgICAgICAvL2dldCBzY29yZSBzY3JlZW5zDQogICAgICAgICAgICAgIGlmICh0aGlzLnNjcmVlbk51bSA+IDEpIHsNCiAgICAgICAgICAgICAgICBsZXQgc2NvcmVTY3JlZW5zOw0KICAgICAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgICBzY29yZVNjcmVlbnMgPSBhd2FpdCB0aGlzLmF4aW9zLmdldCgNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm9vdC5zdG9yZS5iYXNlX3VybCArDQogICAgICAgICAgICAgICAgICAgICAgIi91c2Vycy9nZXRTY29yZVNjcmVlbnMvZ2FtZUlkLyIgKw0KICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2FtZUlEDQogICAgICAgICAgICAgICAgICApOw0KICAgICAgICAgICAgICAgICAgaWYgKHNjb3JlU2NyZWVucy5zdGF0dXMgIT09IDIwMCkNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnJlcGxhY2UoIi9Ob3RGb3VuZCIpOw0KICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygNCiAgICAgICAgICAgICAgICAgICAgImVycm9yLnNjb3JlU2NyZWVucy5zdGF0dXMiLA0KICAgICAgICAgICAgICAgICAgICBlcnJvci5zY29yZVNjcmVlbnMuc3RhdHVzDQogICAgICAgICAgICAgICAgICApOw0KICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnJlcGxhY2UoIi9Ob3RGb3VuZCIpOw0KICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB0aGlzLnNjb3JlID0gc2NvcmVTY3JlZW5zLmRhdGFbMF0uc2NvcmU7DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgZm9yIChsZXQgbnVtIGluIHRoaXMuYWxsSW1hZ2VzWzBdLmltYWdlc1NjcmVlbikgew0KICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB7DQogICAgICAgICAgICAgICAgICBrZXk6IHRoaXMuYWxsSW1hZ2VzWzBdLmltYWdlc1NjcmVlbltudW1dLmltYWdlX2lkLA0KICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlOiB0aGlzLmFsbEltYWdlc1swXS5pbWFnZXNTY3JlZW5bbnVtXS5pbWFnZSwNCiAgICAgICAgICAgICAgICAgIHRhcmdldDogdGhpcy5hbGxJbWFnZXNbMF0uaW1hZ2VzU2NyZWVuW251bV0udGFyZ2V0LA0KICAgICAgICAgICAgICAgICAgc2VsZWN0YWJsZTogdHJ1ZSwNCiAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgIHRoaXMuaXRlbXMucHVzaChkYXRhKTsNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICB0aGlzLmluZGV4ID0gMDsNCiAgICAgICAgICAgICAgaWYgKHRoaXMuaW5kZXggKyAxIDwgdGhpcy5hbGxJbWFnZXMubGVuZ3RoKSB0aGlzLmluZGV4Kys7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICB0aGlzLiRhbGVydCgNCiAgICAgICAgICAgICAgICAiWW91IGFscmVhZHkgcGxheWVkIHRvZGF5LCBwbGVhc2UgY29tZSBiYWNrIHRvbW9ycm93ISIsDQogICAgICAgICAgICAgICAgIkVycm9yIiwNCiAgICAgICAgICAgICAgICAiZXJyb3IiDQogICAgICAgICAgICAgICk7DQogICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5yZXBsYWNlKCIvIik7DQogICAgICAgICAgICB9DQogICAgICAgICAgfSBlbHNlIGlmIChwbGF5VG9kYXkuc3RhdHVzICE9PSAyMDApDQogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucmVwbGFjZSgiL05vdEZvdW5kIik7DQogICAgICAgICAgZWxzZSB7DQogICAgICAgICAgICAvL25vdCBwbGF5IHRvZGF5DQogICAgICAgICAgICBjb25zdCBudW1iZXJPZkltYWdlcyA9IHRoaXMuJHJvb3Quc3RvcmUubnVtYmVyT2ZJbWFnZXNJbkdhbWU7DQogICAgICAgICAgICBjb25zdCBsaW1pdCA9IHRoaXMuJHJvb3Quc3RvcmUubGltaXRTZWxlY3RJbkdhbWU7DQogICAgICAgICAgICB0aGlzLnNjcmVlbnMgPSB0aGlzLiRyb290LnN0b3JlLm51bWJlck9mU2NyZWVuc0luR2FtZTsNCg0KICAgICAgICAgICAgLy8gdGhpcy5tYXhTZWxlY3RhYmxlID0gbGltaXQ7DQogICAgICAgICAgICAvLyB0aGlzLiRlbWl0KCdtYXhTZWxlY3RhYmxlJywgMyk7DQogICAgICAgICAgICBsZXQgcmVzcG9uc2U7DQogICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXhpb3MuZ2V0KA0KICAgICAgICAgICAgICAgIHRoaXMuJHJvb3Quc3RvcmUuYmFzZV91cmwgKw0KICAgICAgICAgICAgICAgICAgIi91c2Vycy9nZXRJbWFnZXNGb3JHYW1lL2Ftb3VudC8iICsNCiAgICAgICAgICAgICAgICAgIG51bWJlck9mSW1hZ2VzICsNCiAgICAgICAgICAgICAgICAgICIvbnVtT2ZTY3JlZW5zLyIgKw0KICAgICAgICAgICAgICAgICAgdGhpcy5zY3JlZW5zICsNCiAgICAgICAgICAgICAgICAgICIvbnVtT2ZTZWxlY3RlZC8iICsNCiAgICAgICAgICAgICAgICAgIGxpbWl0DQogICAgICAgICAgICAgICk7DQogICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgIT09IDIwMCkgdGhpcy4kcm91dGVyLnJlcGxhY2UoIi9Ob3RGb3VuZCIpOw0KICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgICAgICAgY29uc29sZS5sb2coImVycm9yLnJlc3BvbnNlLnN0YXR1cyIsIGVycm9yLnJlc3BvbnNlLnN0YXR1cyk7DQogICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5yZXBsYWNlKCIvTm90Rm91bmQiKTsNCiAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICB0aGlzLmFsbEltYWdlcyA9IHJlc3BvbnNlLmRhdGE7DQogICAgICAgICAgICB0aGlzLmdhbWVJRCA9IHRoaXMuYWxsSW1hZ2VzW3RoaXMuc2NyZWVuc107DQogICAgICAgICAgICBmb3IgKGxldCBudW0gaW4gdGhpcy5hbGxJbWFnZXNbdGhpcy5zY3JlZW5OdW0gLSAxXS5pbWFnZXNTY3JlZW4pIHsNCiAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHsNCiAgICAgICAgICAgICAgICBrZXk6IHRoaXMuYWxsSW1hZ2VzW3RoaXMuc2NyZWVuTnVtIC0gMV0uaW1hZ2VzU2NyZWVuW251bV0NCiAgICAgICAgICAgICAgICAgIC5pbWFnZV9pZCwNCiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6IHRoaXMuYWxsSW1hZ2VzW3RoaXMuc2NyZWVuTnVtIC0gMV0NCiAgICAgICAgICAgICAgICAgIC5pbWFnZXNTY3JlZW5bbnVtXS5pbWFnZSwNCiAgICAgICAgICAgICAgICB0YXJnZXQ6IHRoaXMuYWxsSW1hZ2VzW3RoaXMuc2NyZWVuTnVtIC0gMV0uaW1hZ2VzU2NyZWVuW251bV0NCiAgICAgICAgICAgICAgICAgIC50YXJnZXQsDQogICAgICAgICAgICAgICAgc2VsZWN0YWJsZTogdHJ1ZSwNCiAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAgdGhpcy5pdGVtcy5wdXNoKGRhdGEpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdGhpcy5pbmRleCA9IHRoaXMuc2NyZWVuTnVtOw0KICAgICAgICAgIH0NCiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgICBjb25zb2xlLmxvZygiZXJyb3IucGxheVRvZGF5LnN0YXR1cyIsIGVycm9yLnBsYXlUb2RheS5zdGF0dXMpOw0KICAgICAgICAgIHRoaXMuJHJvdXRlci5yZXBsYWNlKCIvTm90Rm91bmQiKTsNCiAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9IGVsc2Ugew0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9sb2dpbiIpOw0KICAgIH0NCiAgfSwNCn07DQo="},{"version":3,"sources":["gamePage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"gamePage.vue","sourceRoot":"src/pages","sourcesContent":["<template>\r\n  <div class=\"d-flex flex-column justify-center align-center\">\r\n    <transition name=\"fade\">\r\n      <div class=\"popup-modal\" v-if=\"isVisible\">\r\n        <div class=\"window\" style=\" height:450px; max-width: 680px;\">\r\n          <slot>\r\n            <!-- <button class=\"btn-x\"  tag=\"b-nav-item\" @click=\"close()\">\r\n                            X\r\n                        </button> -->\r\n            <h2 class=\"titlegame\">הגענו לשלב המשחק</h2>\r\n\r\n            <p class=\"textgame\" style=\"color: black; direction: RTL; \">\r\n              כעת נציג לפניכם\r\n              {{ this.$root.store.numberOfScreensInGame }} מסכים. בכל מסך יהיו\r\n              {{ this.$root.store.numberOfImagesInGame }} תמונות מוקטנות אשר\r\n              לקוחות מהתמונות שראיתם בשלב הקודם. מתוך\r\n              {{ this.$root.store.numberOfImagesInGame }} התמונות עליכם יהיה\r\n              לבחור את {{ this.$root.store.limitSelectInGame }} התמונות שאתם הכי\r\n              אוהבים. המטרה בכל מסך היא לבחור את\r\n              {{ this.$root.store.limitSelectInGame }} התמונות שקיבלו את הציונים\r\n              הגבוהים ביותר בשלב דירוג התמונות. <br /><br />\r\n              עבור כל תמונה שבחרתם נכון תקבלו נקודה. כמו כן, ניתן לבטל בחירה של\r\n              תמונה מסוימת על ידי לחיצה נוספת עליה.\r\n            </p>\r\n            <h3 class=\"titlegame\">!בהצלחה</h3>\r\n            <br />\r\n            <b-row>\r\n              <b-col></b-col>\r\n              <b-col\r\n                ><b-button size=\"lg\" class=\"b-game\" block @click=\"close()\"\r\n                  >התחל</b-button\r\n                ></b-col\r\n              >\r\n              <b-col></b-col>\r\n            </b-row>\r\n          </slot>\r\n        </div>\r\n      </div>\r\n    </transition>\r\n\r\n    <br />\r\n\r\n    <router-link to=\"/\">\r\n      <b-button color=\"primary\" class=\"btn-x\">\r\n        HOME\r\n      </b-button>\r\n    </router-link>\r\n    <h3>\r\n      <b>Page {{ screenNum }} / {{ screens }}</b>\r\n    </h3>\r\n    <div class=\"d-flex flex-row justify-center align-center\">\r\n      <v-select-image\r\n        ref=\"VSelectImage\"\r\n        class=\"w-1040\"\r\n        v-model=\"selectedItems\"\r\n        :items=\"items\"\r\n        :colorSchema=\"colorSchema\"\r\n        :h=\"100\"\r\n        uniqueKey=\"key\"\r\n        :maxSelectable=\"maxSelectable\"\r\n        @maxSelectionError=\"maxSelected()\"\r\n      />\r\n    </div>\r\n    <br />\r\n    <b-button size=\"lg\" class=\"btn\" v-on:click=\"save\" type=\"submit\">\r\n      NEXT\r\n    </b-button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport VSelectImage from \"../components/VSelectImage.vue\";\r\nexport default {\r\n  name: \"App\",\r\n  components: { \"v-select-image\": VSelectImage },\r\n  methods: {\r\n    open() {\r\n      this.isVisible = true;\r\n    },\r\n\r\n    close() {\r\n      this.isVisible = false;\r\n    },\r\n    maxSelected() {\r\n      this.$alert(\r\n        \"You can't select more than \" + this.maxSelectable + \" images.\",\r\n        \"Error\",\r\n        \"error\"\r\n      );\r\n    },\r\n    async save() {\r\n      if (this.selectedItems.length < this.maxSelectable)\r\n        this.$alert(\r\n          \"You need to select \" + this.maxSelectable + \" images\",\r\n          \"Error\",\r\n          \"error\"\r\n        );\r\n      else {\r\n        let scoreScreen = 0;\r\n        let imagesSelect = \"\";\r\n        for (let index in this.selectedItems) {\r\n          if (this.selectedItems[index].target == true) scoreScreen++;\r\n          imagesSelect = imagesSelect + this.selectedItems[index].key + \",\";\r\n        }\r\n        this.score = this.score + scoreScreen;\r\n        let saveScore;\r\n\r\n        try {\r\n          saveScore = await this.axios.get(\r\n            this.$root.store.base_url +\r\n              \"/users/saveScoreScreen/gameID/\" +\r\n              this.gameID +\r\n              \"/numOfScreen/\" +\r\n              this.screenNum +\r\n              \"/imagesSelect/\" +\r\n              imagesSelect +\r\n              \"/score/\" +\r\n              scoreScreen\r\n          );\r\n          if (saveScore.status !== 200) this.$router.replace(\"/NotFound\");\r\n        } catch (error) {\r\n          console.log(\"error.saveScore.status\", error.saveScore.status);\r\n          this.$router.replace(\"/NotFound\");\r\n          return;\r\n        }\r\n\r\n        if (this.screenNum == this.screens) {\r\n          let saveScoreGame;\r\n\r\n          try {\r\n            saveScoreGame = await this.axios.get(\r\n              this.$root.store.base_url +\r\n                \"/users/saveScoreGame/gameID/\" +\r\n                this.gameID +\r\n                \"/score/\" +\r\n                this.score\r\n            );\r\n            if (saveScoreGame.status !== 200) this.$router.replace(\"/NotFound\");\r\n\r\n          } catch (error) {\r\n            console.log(\r\n              \"error.saveScoreGame.status\",\r\n              error.saveScoreGame.status\r\n            );\r\n            this.$router.replace(\"/NotFound\");\r\n            return;\r\n          }\r\n          this.$alert(\r\n            \"Game Over! You earned \" +\r\n              this.score +\r\n              \" points today. See you tommorow!\"\r\n          ).then(() => {\r\n            this.$router.push(\"/\");\r\n          });\r\n\r\n        } else {\r\n          this.$alert(\r\n          \"Your score in this round: \" + scoreScreen + \"/\" + this.maxSelectable)\r\n          .then(() => {           \r\n             this.screenNum++;\r\n            // this.$root.$children[0].clear();\r\n            this.$refs.VSelectImage.clear();\r\n            this.items = [];\r\n            for (let num in this.allImages[this.index].imagesScreen) {\r\n              const data = {\r\n                key: this.allImages[this.index].imagesScreen[num].image_id,\r\n                backgroundImage: this.allImages[this.index].imagesScreen[num]\r\n                  .image,\r\n                target: this.allImages[this.index].imagesScreen[num].target,\r\n                selectable: true,\r\n              };\r\n              this.items.push(data);\r\n            }\r\n            this.index++;});\r\n          // }\r\n        }\r\n        // });\r\n      }\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      isVisible: true,\r\n\r\n      maxSelectable: 2,\r\n      selectedItems: [],\r\n      items: [],\r\n      colorSchema: \"#00cc44\",\r\n      screenNum: 1,\r\n      screens: \"\",\r\n      score: 0,\r\n      gameID: \"\",\r\n      allImages: [],\r\n      index: \"\",\r\n    };\r\n  },\r\n  watch: {\r\n    maxSelectable(newVal, oldVal) {\r\n      if (newVal < this.selectedItems.length) {\r\n        this.maxSelectable = oldVal;\r\n      }\r\n      if (this.items.length < newVal) {\r\n        this.maxSelectable = oldVal;\r\n      }\r\n    },\r\n  },\r\n  async created() {\r\n    if (this.$root.store.email) {\r\n      if (\r\n        this.$root.store.numberOfImagesRating < this.$root.store.minImagesRating\r\n      ) {\r\n        this.$alert(\r\n          \"You did not rate enough photos, please continue to rate...\",\r\n          \"Error\",\r\n          \"error\"\r\n        );\r\n        this.$router.push(\"/ranking\");\r\n      } else {\r\n        let playToday;\r\n        try {\r\n          playToday = await this.axios.get(\r\n            this.$root.store.base_url + \"/users/checkIfPlayToday\"\r\n          );\r\n          if (playToday.status === 201) {\r\n            //not finish to play today\r\n            if (playToday.data[0].scoreGame == null) {\r\n              this.screens = this.$root.store.numberOfScreensInGame;\r\n              let response;\r\n              try {\r\n                response = await this.axios.get(\r\n                  this.$root.store.base_url +\r\n                    \"/users/getScreensGame/gameId/\" +\r\n                    playToday.data[0].game_id\r\n                );\r\n                if (response.status !== 200) this.$router.replace(\"/NotFound\");\r\n              } catch (error) {\r\n                console.log(\"error.response.status\", error.response.status);\r\n                this.$router.replace(\"/NotFound\");\r\n                return;\r\n              }\r\n              this.allImages = response.data;\r\n              this.gameID = playToday.data[0].game_id;\r\n              this.screenNum = this.allImages[0].screen;\r\n              //get score screens\r\n              if (this.screenNum > 1) {\r\n                let scoreScreens;\r\n                try {\r\n                  scoreScreens = await this.axios.get(\r\n                    this.$root.store.base_url +\r\n                      \"/users/getScoreScreens/gameId/\" +\r\n                      this.gameID\r\n                  );\r\n                  if (scoreScreens.status !== 200)\r\n                    this.$router.replace(\"/NotFound\");\r\n                } catch (error) {\r\n                  console.log(\r\n                    \"error.scoreScreens.status\",\r\n                    error.scoreScreens.status\r\n                  );\r\n                  this.$router.replace(\"/NotFound\");\r\n                  return;\r\n                }\r\n                this.score = scoreScreens.data[0].score;\r\n              }\r\n              for (let num in this.allImages[0].imagesScreen) {\r\n                const data = {\r\n                  key: this.allImages[0].imagesScreen[num].image_id,\r\n                  backgroundImage: this.allImages[0].imagesScreen[num].image,\r\n                  target: this.allImages[0].imagesScreen[num].target,\r\n                  selectable: true,\r\n                };\r\n                this.items.push(data);\r\n              }\r\n              this.index = 0;\r\n              if (this.index + 1 < this.allImages.length) this.index++;\r\n            } else {\r\n              this.$alert(\r\n                \"You already played today, please come back tomorrow!\",\r\n                \"Error\",\r\n                \"error\"\r\n              );\r\n              this.$router.replace(\"/\");\r\n            }\r\n          } else if (playToday.status !== 200)\r\n            this.$router.replace(\"/NotFound\");\r\n          else {\r\n            //not play today\r\n            const numberOfImages = this.$root.store.numberOfImagesInGame;\r\n            const limit = this.$root.store.limitSelectInGame;\r\n            this.screens = this.$root.store.numberOfScreensInGame;\r\n\r\n            // this.maxSelectable = limit;\r\n            // this.$emit('maxSelectable', 3);\r\n            let response;\r\n            try {\r\n              response = await this.axios.get(\r\n                this.$root.store.base_url +\r\n                  \"/users/getImagesForGame/amount/\" +\r\n                  numberOfImages +\r\n                  \"/numOfScreens/\" +\r\n                  this.screens +\r\n                  \"/numOfSelected/\" +\r\n                  limit\r\n              );\r\n              if (response.status !== 200) this.$router.replace(\"/NotFound\");\r\n            } catch (error) {\r\n              console.log(\"error.response.status\", error.response.status);\r\n              this.$router.replace(\"/NotFound\");\r\n              return;\r\n            }\r\n\r\n            this.allImages = response.data;\r\n            this.gameID = this.allImages[this.screens];\r\n            for (let num in this.allImages[this.screenNum - 1].imagesScreen) {\r\n              const data = {\r\n                key: this.allImages[this.screenNum - 1].imagesScreen[num]\r\n                  .image_id,\r\n                backgroundImage: this.allImages[this.screenNum - 1]\r\n                  .imagesScreen[num].image,\r\n                target: this.allImages[this.screenNum - 1].imagesScreen[num]\r\n                  .target,\r\n                selectable: true,\r\n              };\r\n              this.items.push(data);\r\n            }\r\n            this.index = this.screenNum;\r\n          }\r\n        } catch (error) {\r\n          console.log(\"error.playToday.status\", error.playToday.status);\r\n          this.$router.replace(\"/NotFound\");\r\n          return;\r\n        }\r\n      }\r\n    } else {\r\n      this.$router.push(\"/login\");\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.d-flex {\r\n  display: flex;\r\n}\r\n.flex-row {\r\n  flex-direction: row;\r\n}\r\n.flex-column {\r\n  flex-direction: column;\r\n}\r\n.justify-center {\r\n  justify-content: center;\r\n}\r\n.align-center {\r\n  align-items: center;\r\n}\r\n.w-1040 {\r\n  max-width: 1040px;\r\n}\r\n.mt-20 {\r\n  margin-top: 10px;\r\n}\r\n.mt-25 {\r\n  margin-top: 10px;\r\n}\r\npre {\r\n  counter-reset: line-numbering;\r\n  background: #2c3e50;\r\n  padding: 12px 0px 14px 0;\r\n  width: 600px;\r\n  color: #ecf0f1;\r\n  line-height: 100%;\r\n}\r\npre code .line::before {\r\n  content: counter(line-numbering);\r\n  counter-increment: line-numbering;\r\n  padding-right: 1em;\r\n  /* space after numbers */\r\n  padding-left: 8px;\r\n  width: 1.5em;\r\n  text-align: right;\r\n  opacity: 0.5;\r\n  color: white;\r\n}\r\n\r\n.item {\r\n  margin: 5px !important;\r\n  height: 220px !important;\r\n  width: 250px !important;\r\n  top: 10px !important;\r\n  left: 10px !important;\r\n}\r\n\r\n.item .isSelectedBox {\r\n  top: 10px !important;\r\n  left: 10px !important;\r\n}\r\n\r\n.swal2-confirm .swal2-styled .button {\r\n  width: 20px !important;\r\n  height: 30px !important;\r\n}\r\n.container {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n.fade-enter-active,\r\n.fade-leave-active {\r\n  transition: opacity 0.3s;\r\n}\r\n.fade-enter,\r\n.fade-leave-to {\r\n  opacity: 0;\r\n}\r\n\r\n.popup-modal {\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  position: fixed;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  margin-bottom: 0px;\r\n  display: flex;\r\n  align-items: center;\r\n  z-index: 1;\r\n}\r\n\r\n.window {\r\n  box-shadow: 2px 4px 8px rgba(0, 0, 0, 0.2);\r\n  max-width: 80%;\r\n  //max-height: 1500px;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  text-align: right;\r\n  color: black;\r\n  margin: auto;\r\n  position: relative;\r\n  border: 3px solid rgba(143, 241, 216, 0.87);\r\n  border-radius: 2px;\r\n  padding: 1.1rem;\r\n  background-color: rgba(251, 241, 226, 0.897);\r\n}\r\n.b-game {\r\n  font-size: large;\r\n  font-family: Verdana, Geneva, Tahoma, sans-serif;\r\n  color: black;\r\n}\r\n.button {\r\n  border-radius: 5px;\r\n  font-size: 25px;\r\n  width: 300px;\r\n  margin-left: 100px;\r\n}\r\n\r\n.btn {\r\n  margin-top: 8px;\r\n}\r\n.titlegame {\r\n  text-align: center;\r\n  font-family: Verdana, Geneva, Tahoma, sans-serif;\r\n  color: black;\r\n}\r\n\r\n.textgame {\r\n  font-size: large;\r\n  font-family: Verdana, Geneva, Tahoma, sans-serif;\r\n  text-align: right;\r\n  color: black;\r\n}\r\n.btn-x {\r\n  width: 7%;\r\n  margin-top: 1%;\r\n  margin-right: 2%;\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n}\r\n</style>\r\n"]}]}