{"remainingRequest":"C:\\Users\\User\\Documents\\GitHub\\FinalProject\\FrontEnd\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\User\\Documents\\GitHub\\FinalProject\\FrontEnd\\src\\management\\components\\followExperiment.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"C:\\Users\\User\\Documents\\GitHub\\FinalProject\\FrontEnd\\src\\management\\components\\followExperiment.vue","mtime":1624302462259},{"path":"C:\\Users\\User\\Documents\\GitHub\\FinalProject\\FrontEnd\\node_modules\\css-loader\\dist\\cjs.js","mtime":1619698968439},{"path":"C:\\Users\\User\\Documents\\GitHub\\FinalProject\\FrontEnd\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1619698986297},{"path":"C:\\Users\\User\\Documents\\GitHub\\FinalProject\\FrontEnd\\node_modules\\postcss-loader\\src\\index.js","mtime":1619698974988},{"path":"C:\\Users\\User\\Documents\\GitHub\\FinalProject\\FrontEnd\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1619698978214},{"path":"C:\\Users\\User\\Documents\\GitHub\\FinalProject\\FrontEnd\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1619698966213},{"path":"C:\\Users\\User\\Documents\\GitHub\\FinalProject\\FrontEnd\\node_modules\\vue-loader\\lib\\index.js","mtime":1619698986297}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KQGltcG9ydCB1cmwoaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3M/ZmFtaWx5PVJhbGV3YXkpOw0KDQp0aCB7DQogIGJvcmRlci10b3A6IDJweCBzb2xpZCBibGFjayAhaW1wb3J0YW50Ow0KICBmb250LWZhbWlseTogUmFsZXdheSAhaW1wb3J0YW50Ow0KICANCiAgDQp9DQouc29ydGVkQ29sdW1uIHsNCiAgY3Vyc29yOiBwb2ludGVyOw0KfQ0KDQp0YWJsZSB7DQogIGZvbnQtZmFtaWx5OiBSYWxld2F5ICFpbXBvcnRhbnQ7DQp9DQoNCi50ZXh0LWNlbnRlciB7DQogIGZvbnQtZmFtaWx5OiBSYWxld2F5ICFpbXBvcnRhbnQ7DQp9DQoNCi5idG4tZG93biB7DQogIGJhY2tncm91bmQ6ICNmYzk5NTc4ODsNCiAgYm9yZGVyOiAxLjVweCBzb2xpZCBibGFjazsNCiAgYm9yZGVyLXJhZGl1czogNXB4Ow0KICBjb2xvcjogcmdiYSgxMCwgMTAsIDEwLCAwLjcxOSk7DQogIGZvbnQtc2l6ZTogMTlweDsNCiAgbGluZS1oZWlnaHQ6IDJlbTsNCiAgZm9udC1mYW1pbHk6IFJhbGV3YXkgIWltcG9ydGFudDsNCiAgbWFyZ2luLXJpZ2h0OiA1MHB4Ow0KICBtYXJnaW4tYm90dG9tOiAzMHB4Ow0KICBtYXJnaW4tdG9wOiA1cHg7DQp9DQoNCi5idG4tZG93bjpob3ZlciB7DQogIGJhY2tncm91bmQ6ICNmZjlmNWY4YTsNCiAgY29sb3I6IHJnYmEoMTAsIDEwLCAxMCwgMC43NzQpOw0KICBmb250LXdlaWdodDogYm9sZDsNCiAgdHJhbnNpdGlvbjogYWxsIDAuNHMgZWFzZTsNCn0NCg0KLm1vZGFsIHsNCiAgZGlzcGxheTogYmxvY2sgIWltcG9ydGFudDsNCn0NCi5tb2RhbC1kaWFsb2cgew0KICBvdmVyZmxvdy15OiBpbml0aWFsICFpbXBvcnRhbnQ7DQp9DQoubW9kYWwtYm9keSB7DQogIGhlaWdodDogMjUwcHg7DQogIG92ZXJmbG93LXk6IGF1dG87DQp9DQoNCg=="},{"version":3,"sources":["followExperiment.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyRA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"followExperiment.vue","sourceRoot":"src/management/components","sourcesContent":["<template>\r\n  <div class=\"experiment_container\">\r\n    <h3 class=\"p-3 text-center\">List of the participants in the experiment</h3>\r\n    <table class=\"table table-striped table-bordered\">\r\n      <thead>\r\n        <tr>\r\n          <th>Name</th>\r\n          <th>Email</th>\r\n\r\n           <th class=\"sortedColumn\" @click=\"handleSort('dateOfRegistration', !sortMethod.order)\">\r\n                Date of registration\r\n            <span v-if=\"sortMethod.name=='dateOfRegistration' && sortMethod.isSorted && sortMethod.order\">\r\n                 ▲</span>\r\n            <span v-if=\"sortMethod.name=='dateOfRegistration' && sortMethod.isSorted && !sortMethod.order\">\r\n            ▼</span>\r\n          </th>\r\n\r\n          <th>Status</th>\r\n\r\n          <th class=\"sortedColumn\" @click=\"handleSort('lastLogin', !sortMethod.order)\">\r\n                Last login\r\n            <span v-if=\"sortMethod.name=='lastLogin' && sortMethod.isSorted && sortMethod.order\">\r\n                 ▲</span>\r\n            <span v-if=\"sortMethod.name=='lastLogin' && sortMethod.isSorted && !sortMethod.order\">\r\n            ▼</span>\r\n          </th>\r\n\r\n            <th class=\"sortedColumn\" @click=\"handleSort('numOfRates', !sortMethod.order)\">\r\n                No. images rated\r\n            <span v-if=\"sortMethod.name=='numOfRates' && sortMethod.isSorted && sortMethod.order\">\r\n                 ▲</span>\r\n            <span v-if=\"sortMethod.name=='numOfRates' && sortMethod.isSorted && !sortMethod.order\">\r\n            ▼</span>\r\n          </th>\r\n\r\n\r\n           <th class=\"sortedColumn\" @click=\"handleSort('numOfGames', !sortMethod.order)\">\r\n                No. games\r\n            <span v-if=\"sortMethod.name=='numOfGames' && sortMethod.isSorted && sortMethod.order\">\r\n                 ▲</span>\r\n            <span v-if=\"sortMethod.name=='numOfGames' && sortMethod.isSorted && !sortMethod.order\">\r\n            ▼</span>\r\n          </th>\r\n\r\n           <th class=\"sortedColumn\" @click=\"handleSort('score', !sortMethod.order)\">\r\n                Score\r\n            <span v-if=\"sortMethod.name=='score' && sortMethod.isSorted && sortMethod.order\">\r\n                 ▲</span>\r\n            <span v-if=\"sortMethod.name=='score' && sortMethod.isSorted && !sortMethod.order\">\r\n            ▼</span>\r\n          </th>\r\n\r\n           <th class=\"sortedColumn\" @click=\"handleSort('gameTime', !sortMethod.order)\">\r\n                Last time in the game\r\n            <span v-if=\"sortMethod.name=='gameTime' && sortMethod.isSorted && sortMethod.order\">\r\n                 ▲</span>\r\n            <span v-if=\"sortMethod.name=='gameTime' && sortMethod.isSorted && !sortMethod.order\">\r\n            ▼</span>\r\n          </th>\r\n\r\n          <th>Advanced game</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-for=\"user in sortedItems\" :key=\"user.id\">\r\n          <td>{{ user.firstname }} {{ user.lastname }}</td>\r\n          <td>{{ user.email }}</td>\r\n          <td>{{ format_date(user.dateOfRegistration) }}</td>\r\n          <td>\r\n            {{ user.status }}\r\n            <br />\r\n            <b-button\r\n              size=\"sm\"\r\n              variant=\"outline-info\"\r\n              @click=\"change(user.email)\"\r\n            >\r\n              <b-icon icon=\"pencil\"></b-icon>\r\n            </b-button>\r\n          </td>\r\n          <td>{{ format_date(user.lastLogin) }}</td>\r\n          <td>{{ user.numOfRates }}</td>\r\n          <td>{{ user.numOfGames }}</td>\r\n          <td>{{ user.score }}</td>\r\n          <td>{{ format_date(user.gameTime) }}</td>\r\n          <td v-if=\"user.playAdvancedGame\">\r\n            allowed\r\n            <br />\r\n            <b-button\r\n              size=\"sm\"\r\n              variant=\"outline-info\"\r\n              @click=\"changePlayAdvanced(user.email)\"\r\n            >\r\n              <b-icon icon=\"pencil\"></b-icon>\r\n            </b-button>\r\n          </td>\r\n          <td v-else>\r\n            not allowed\r\n            <br />\r\n            <b-button\r\n              size=\"sm\"\r\n              variant=\"outline-info\"\r\n              @click=\"changePlayAdvanced(user.email)\"\r\n            >\r\n              <b-icon icon=\"pencil\"></b-icon>\r\n            </b-button>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n\r\n    <div class=\"flex\">\r\n      <button\r\n        class=\"btn-down\"\r\n        style=\"width: 28%;\"\r\n        type=\"submit\"\r\n        v-on:click=\"deactiveAllUsers\"\r\n      >\r\n        Deactive Status for all users\r\n      </button>\r\n      <button\r\n        class=\"btn-down\"\r\n        style=\"width: 28%;\"\r\n        type=\"submit\"\r\n        v-on:click=\"activeAllUsers\"\r\n      >\r\n        Active Status for all users\r\n      </button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n    /*eslint-disable*/ \r\n\r\n  import moment from 'moment';\r\nexport default {\r\n    \r\n    data() {\r\n        return {\r\n            users: [],\r\n\r\n            sortMethod: {\r\n                name: '',\r\n                order: false,\r\n                isSorted: false,\r\n            },\r\n        };\r\n    },\r\n\r\n    computed: {\r\n        sortedItems () {\r\n\r\n            // all dates columns\r\n            if (this.sortMethod.name == 'dateOfRegistration' ||\r\n                this.sortMethod.name == 'gameTime' ||\r\n                this.sortMethod.name == 'lastLogin') {\r\n\r\n                return this.users.sort((a, b) => {\r\n\r\n                    if (this.sortMethod.order){\r\n                        return new Date(a[this.sortMethod.name]) - new Date(b[this.sortMethod.name]);\r\n                    }\r\n                    return new Date(b[this.sortMethod.name]) - new Date(a[this.sortMethod.name]);\r\n                })\r\n            }\r\n\r\n            // sorting numbers\r\n            else if (this.sortMethod.name == 'numOfRates' ||\r\n                    this.sortMethod.name == 'numOfGames' ||\r\n                    this.sortMethod.name == 'score'){\r\n                 return this.users.sort((a, b) => {\r\n\r\n                    if (this.sortMethod.order){\r\n                        return (a[this.sortMethod.name]) - (b[this.sortMethod.name]);\r\n                    }\r\n                    return (b[this.sortMethod.name]) - (a[this.sortMethod.name]);\r\n                })\r\n            }\r\n            return this.users;\r\n        }\r\n    },\r\n\r\n    async created() {\r\n        if(localStorage.getItem(\"emailAdmin\")){\r\n            let response;\r\n            try {\r\n                response = await this.axios.get(\r\n                this.$root.store.base_url +\r\n                    \"/admins/getUsers\"\r\n                );\r\n                if (response.status === 401) this.$router.replace(\"/loginManagement\");\r\n                if (response.status !== 200) this.$router.replace(\"/NotFound\");\r\n            } catch (error) {\r\n                console.log(\"error.response.status\", error.response.status);\r\n                this.$router.replace(\"/NotFound\");\r\n                return;\r\n            }\r\n\r\n            this.users = response.data;\r\n         }\r\n        else{\r\n            this.$router.push(\"/loginManagement\");\r\n        }\r\n    },\r\n    methods: {\r\n        handleSort(name, order) {\r\n            this.sortMethod.name = name;\r\n            this.sortMethod.order = order;\r\n            this.sortMethod.isSorted = true;\r\n        }, \r\n       \r\n        async change(email){\r\n            let response;\r\n            try {\r\n                response = await this.axios.put(\r\n                this.$root.store.base_url +\r\n                    \"/admins/changeStatus/\" + email\r\n                );\r\n                if (response.status !== 200) this.$router.replace(\"/NotFound\");\r\n            } catch (error) {\r\n                console.log(\"error.response.status\", error.response.status);\r\n                this.$router.replace(\"/NotFound\");\r\n                return;\r\n            }\r\n            this.users = response.data;\r\n        },\r\n        async deactiveAllUsers(){\r\n            let response;\r\n            try {\r\n                response = await this.axios.put(\r\n                this.$root.store.base_url +\r\n                    \"/admins/allUsersInDeactiveStatus\"\r\n                );\r\n                if (response.status !== 200) this.$router.replace(\"/NotFound\");\r\n            } catch (error) {\r\n                console.log(\"error.response.status\", error.response.status);\r\n                this.$router.replace(\"/NotFound\");\r\n                return;\r\n            }\r\n            this.users = response.data;\r\n        },\r\n        async activeAllUsers(){\r\n            let response;\r\n            try {\r\n                response = await this.axios.put(\r\n                this.$root.store.base_url +\r\n                    \"/admins/allUsersInActiveStatus\"\r\n                );\r\n                if (response.status !== 200) this.$router.replace(\"/NotFound\");\r\n            } catch (error) {\r\n                console.log(\"error.response.status\", error.response.status);\r\n                this.$router.replace(\"/NotFound\");\r\n                return;\r\n            }\r\n            this.users = response.data;\r\n        },\r\n        async changePlayAdvanced(email){\r\n            let response;\r\n            try {\r\n                response = await this.axios.put(\r\n                this.$root.store.base_url +\r\n                    \"/admins/changePlayAdvancedGame/\" + email\r\n                );\r\n                if (response.status !== 200) this.$router.replace(\"/NotFound\");\r\n            } catch (error) {\r\n                console.log(\"error.response.status\", error.response.status);\r\n                this.$router.replace(\"/NotFound\");\r\n                return;\r\n            }\r\n            this.users = response.data;\r\n        },\r\n        format_date(value){\r\n            if (value) {\r\n                return moment(String(value)).format('DD/MM/YYYY HH:MM');\r\n            }\r\n      },\r\n    },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import url(https://fonts.googleapis.com/css?family=Raleway);\r\n\r\nth {\r\n  border-top: 2px solid black !important;\r\n  font-family: Raleway !important;\r\n  \r\n  \r\n}\r\n.sortedColumn {\r\n  cursor: pointer;\r\n}\r\n\r\ntable {\r\n  font-family: Raleway !important;\r\n}\r\n\r\n.text-center {\r\n  font-family: Raleway !important;\r\n}\r\n\r\n.btn-down {\r\n  background: #fc995788;\r\n  border: 1.5px solid black;\r\n  border-radius: 5px;\r\n  color: rgba(10, 10, 10, 0.719);\r\n  font-size: 19px;\r\n  line-height: 2em;\r\n  font-family: Raleway !important;\r\n  margin-right: 50px;\r\n  margin-bottom: 30px;\r\n  margin-top: 5px;\r\n}\r\n\r\n.btn-down:hover {\r\n  background: #ff9f5f8a;\r\n  color: rgba(10, 10, 10, 0.774);\r\n  font-weight: bold;\r\n  transition: all 0.4s ease;\r\n}\r\n\r\n.modal {\r\n  display: block !important;\r\n}\r\n.modal-dialog {\r\n  overflow-y: initial !important;\r\n}\r\n.modal-body {\r\n  height: 250px;\r\n  overflow-y: auto;\r\n}\r\n\r\n</style>\r\n\r\n\r\n"]}]}